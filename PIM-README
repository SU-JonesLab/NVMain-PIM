# Processing In Memory (PIM) Extension for RTSim

This is a README for the Processing In Memory (PIM) extension, which is built on top of the RTSim simulator (which in turn is built on top of the NVMain simulator).

## New Command Types

The PIM extension introduces three new command types from the Ambit command set:

1. **Overlapped Activate**: This command allows for the activation of a row while another row is already active. This can be useful for cloning the contents of one row to another.

2. **Triple Row Activate**: This command activates three rows at once. This is meant to perform the majority operation on the 3 elements column-wise, across the row. State is not tracked in this simulator so we model energy and latency.

3. **RowClone_PSM**: This command is intended to clone a row in a PSM (Pipelined Serial Mode) manner. However, this feature is not yet implemented.

## Results

The following table compares the energy consumption for our implementation of each operation to the Ambit reported energy:

| Operation | Energy Consumption Ambit (nJ/KB) | Energy Consumption Us (nJ/KB) | Percent Difference |
| --- | --- | --- | --- |
| NOT | 1.6 | 1.7 |  +6% |
| AND | 3.2 | 3.59 | +12% |
| NAND | 4.0 | 4.44 | +11% |
| XOR | 5.5 | 6.5 | +18% |

Please note that the energy consumption for our implementation is based off the "2D_DRAM_example.config" which implements the Micron DDR3-1333_4Gb_8B_x8 memory chip, which has a row-size of 8KB. 

